# 文档库图标和名称翻译修复说明

## 问题描述

用户反馈：在文档库设置的弹窗中（`http://localhost:5173/s/store`），显示的"站点 icon"和"Site Name"不准确，应该分别显示为"文档库图标"和"文档库名称"。

## 根本原因

文档库设置和工作空间设置共用了相同的翻译键：
- `"Icon"` - 被翻译为"站点 icon"，不够准确
- `"Name"` - 在不同上下文中有不同含义

这导致在文档库设置中显示的标签不够明确。

## 解决方案

### 1. 创建专门的翻译键

为文档库和工作空间创建各自专门的翻译键：

**新增翻译键：**
- `"Space icon"` → "文档库图标"
- `"Workspace icon"` → "工作空间图标"
- `"Space name"` → "文档库名称"（已存在）

### 2. 修改组件代码

#### 文档库详情组件
文件：`apps/client/src/features/space/components/space-details.tsx`

```typescript
// 修改前
<Text size="sm" fw={500} mb="xs">
  {t("Icon")}
</Text>

// 修改后
<Text size="sm" fw={500} mb="xs">
  {t("Space icon")}
</Text>
```

#### 文档库表单组件
文件：`apps/client/src/features/space/components/edit-space-form.tsx`

```typescript
// 修改前
<TextInput
  id="name"
  label={t("Name")}
  ...
/>

// 修改后
<TextInput
  id="name"
  label={t("Space name")}
  ...
/>
```

#### 工作空间图标组件
文件：`apps/client/src/features/workspace/components/settings/components/workspace-icon.tsx`

```typescript
// 修改前
<Text size="sm" fw={500} mb="xs">
  {t("Icon")}
</Text>

// 修改后
<Text size="sm" fw={500} mb="xs">
  {t("Workspace icon")}
</Text>
```

### 3. 翻译文件修改

文件：`apps/client/public/locales/zh-CN/translation.json`

```json
{
  "Icon": "站点 icon",
  "Space icon": "文档库图标",
  "Workspace icon": "工作空间图标",
  "Space name": "文档库名称",
  ...
}
```

## 修改效果

### 文档库设置页面 (`/s/{slug}/settings`)

**修改前：**
- 图标标签：~~"站点 icon"~~
- 名称标签：~~"Name"~~

**修改后：**
- 图标标签：**"文档库图标"** ✓
- 名称标签：**"文档库名称"** ✓

### 工作空间设置页面 (`/settings/workspace/general`)

**修改前：**
- 图标标签：~~"站点 icon"~~

**修改后：**
- 图标标签：**"工作空间图标"** ✓

## 术语一致性

修改后的术语体系更加清晰：

| 上下文 | 图标 | 名称 |
|--------|------|------|
| 文档库设置 | 文档库图标 | 文档库名称 |
| 工作空间设置 | 工作空间图标 | 工作空间名称 |
| 个人资料 | 头像 | 您的姓名 |

## 验证方法

运行验证脚本：
```bash
bash scripts/verify-space-icon-name.sh
```

## 测试建议

### 1. 测试文档库设置
1. 访问任意文档库的设置页面（如 `/s/store/settings`）
2. 查看图标上传区域，确认显示"文档库图标"
3. 查看名称输入框，确认显示"文档库名称"
4. 上传图标，验证功能正常
5. 修改名称，验证保存成功

### 2. 测试工作空间设置
1. 访问工作空间设置页面（`/settings/workspace/general`）
2. 查看图标上传区域，确认显示"工作空间图标"
3. 上传图标，验证功能正常

### 3. 测试其他语言
1. 切换到英文界面
2. 验证显示"Space icon"和"Space name"
3. 切换回中文，验证显示正确

## 相关文件

### 修改的组件
- `apps/client/src/features/space/components/space-details.tsx`
- `apps/client/src/features/space/components/edit-space-form.tsx`
- `apps/client/src/features/workspace/components/settings/components/workspace-icon.tsx`

### 翻译文件
- `apps/client/public/locales/zh-CN/translation.json`

### 验证脚本
- `scripts/verify-space-icon-name.sh`

## 注意事项

1. **浏览器缓存**: 修改后需要清除浏览器缓存或硬刷新
2. **翻译键区分**: 
   - `"Icon"` - 通用图标（保留用于SSO等其他场景）
   - `"Space icon"` - 文档库图标
   - `"Workspace icon"` - 工作空间图标
3. **向后兼容**: 保留了原有的 `"Icon"` 键，不影响其他使用该键的地方

## 用户体验提升

### 1. 标签更明确
"文档库图标"和"文档库名称"明确表达了这些字段的用途，用户不会混淆。

### 2. 术语一致
与"文档库"的整体命名保持一致，形成统一的术语体系。

### 3. 上下文清晰
在不同的设置页面中，标签能够准确反映当前的上下文（文档库 vs 工作空间）。

## 总结

本次修改通过创建专门的翻译键，解决了文档库设置页面中标签不准确的问题。修改后：
- ✓ 文档库图标标签显示"文档库图标"
- ✓ 文档库名称标签显示"文档库名称"
- ✓ 工作空间图标标签显示"工作空间图标"

这些修改使界面标签更加准确和专业，提升了用户体验。
