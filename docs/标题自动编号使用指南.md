# 标题自动编号使用指南

## 功能概述

标题自动编号功能允许你在文档中创建带有层级编号的标题结构，适用于需要结构化写作的场景，如技术文档、产品需求文档、学术论文等。

## 使用方法

### 1. 创建带编号的标题

**步骤：**

1. 点击编辑器工具栏的「编号列表」按钮（或使用快捷键）
2. 在列表项中输入 `/` 调出命令菜单
3. 选择「标题 1」、「标题 2」或「标题 3」
4. 编号会自动显示在标题前

**示例效果：**

```
1. 第一章标题
  1.1 第一节标题
    1.1.1 第一小节标题
    1.1.2 第二小节标题
  1.2 第二节标题
2. 第二章标题
  2.1 第一节标题
```

### 2. 编号规则

#### 2.1 层级编号格式

- **H1 标题**：`1.`, `2.`, `3.` ...
- **H2 标题**：`1.1`, `1.2`, `2.1`, `2.2` ...
- **H3 标题**：`1.1.1`, `1.1.2`, `1.2.1` ...

#### 2.2 自动重置规则

- 插入新的 H1 标题时，H2 和 H3 的计数器会重置
- 插入新的 H2 标题时，H3 的计数器会重置
- 这确保了编号的层级关系始终正确

#### 2.3 跨级跳跃

你可以直接从 H1 跳到 H3（跳过 H2），编号仍然会正确显示：

```
1. 第一章
  1.1.1 直接跳到三级标题（没有二级标题）
```

### 3. 编辑操作

#### 3.1 插入新标题

在任意位置插入新标题，后续的编号会自动更新：

```
原始：
1. 第一章
2. 第二章

插入后：
1. 第一章
2. 新插入的章节  ← 新插入
3. 第二章        ← 自动更新为 3
```

#### 3.2 删除标题

删除某个标题后，后续编号会自动补齐：

```
原始：
1. 第一章
2. 第二章
3. 第三章

删除第二章后：
1. 第一章
2. 第三章  ← 自动更新为 2
```

#### 3.3 拖拽排序

使用拖拽手柄（左侧的 ⋮⋮ 图标）可以调整标题顺序，编号会实时更新。

### 4. 高级功能

#### 4.1 自定义编号（可选）

如果需要自定义某个标题的编号，可以：

1. 点击标题前的编号
2. 在弹出的菜单中选择「设置编号的值」
3. 输入自定义的数字

#### 4.2 重新开始编号（可选）

如果需要在文档中间重新开始编号：

1. 点击标题前的编号
2. 选择「重新开始编号」
3. 选择从 1 开始或从当前值开始

### 5. 注意事项

#### 5.1 编号不会被复制

编号使用 CSS 伪元素实现，复制文本时不会包含编号，只会复制标题内容本身。

#### 5.2 打印和导出

编号会在打印和导出时正确显示。

#### 5.3 协作编辑

在多人协作编辑时，编号会实时同步更新。

### 6. 快捷键

- **创建编号列表**：工具栏按钮或 `/` 命令
- **插入标题**：
  - H1: `Ctrl/Cmd + Alt + 1`
  - H2: `Ctrl/Cmd + Alt + 2`
  - H3: `Ctrl/Cmd + Alt + 3`
- **缩进列表项**：`Tab`
- **取消缩进**：`Shift + Tab`

### 7. 最佳实践

#### 7.1 结构化写作

使用标题编号可以帮助你：
- 清晰地组织文档结构
- 快速定位和引用特定章节
- 生成目录和大纲

#### 7.2 推荐的层级深度

- 建议使用 H1-H3 三级标题（符合大多数文档规范）
- 避免层级过深（超过 4 级），这会降低可读性

#### 7.3 配合其他功能

标题编号可以与以下功能配合使用：
- **目录**：自动生成带编号的目录
- **搜索**：通过编号快速定位章节
- **评论**：在特定章节添加评论和讨论

## 常见问题

### Q1: 编号显示不正确怎么办？

**A:** 编号由 CSS 自动计算，通常不会出错。如果遇到问题：
1. 刷新页面
2. 检查是否在有序列表中
3. 确认标题层级关系是否正确

### Q2: 可以使用其他编号格式吗（如 A、B、C）？

**A:** 当前版本只支持数字编号（1、2、3）。其他格式可能在未来版本中支持。

### Q3: 编号可以从 0 开始吗？

**A:** 编号默认从 1 开始，符合大多数文档规范。如需从其他数字开始，可以使用自定义编号功能。

### Q4: 普通段落也会有编号吗？

**A:** 是的，在有序列表中的普通段落也会有独立的编号系统。如果只想要标题编号，确保只在列表项中插入标题。

## 技术说明

### 实现原理

- 使用 CSS Counter 实现自动编号
- 编号通过 `::before` 伪元素注入
- 不修改文档内容，只影响显示
- 性能优秀，支持大型文档（500+ 标题）

### 浏览器兼容性

- 支持所有现代浏览器
- Chrome、Firefox、Safari、Edge 最新版本

## 反馈和建议

如果你在使用过程中遇到问题或有改进建议，欢迎：
- 提交 Issue
- 联系技术支持
- 参与社区讨论
