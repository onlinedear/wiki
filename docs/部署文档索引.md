# NoteDoc 部署文档索引

> 本文档提供 NoteDoc 所有部署相关文档的快速导航。

## 📖 文档结构

```
docs/
├── 部署文档索引.md                    # 本文档
├── 本地开发环境启动指南.md            # 开发环境配置
├── 生产环境部署指南.md                # 生产部署完整方案
├── 启动运行总结.md                    # 本次启动记录
├── Vercel部署指南.md                  # Vercel 平台部署
├── 宝塔面板部署指南.md                # 宝塔面板部署
├── 一键部署方案.md                    # 多平台对比
└── NoteDoc完整部署指南.md             # 综合部署指南
```

## 🎯 根据场景选择文档

### 我想在本地开发

👉 [本地开发环境启动指南](./本地开发环境启动指南.md)

**适合**：
- 开发新功能
- 调试问题
- 学习代码

**内容**：
- 环境要求和安装
- 启动步骤详解
- 常见问题解决
- 开发常用命令
- 项目结构说明

**快速启动**：
```bash
./start-dev.sh
```

---

### 我想部署到生产服务器

👉 [生产环境部署指南](./生产环境部署指南.md)

**适合**：
- 正式上线
- 团队使用
- 长期运行

**内容**：
- Docker Compose 部署（推荐）
- 手动部署方案
- S3 对象存储配置
- Nginx 反向代理
- SSL 证书配置
- 数据备份恢复
- 安全加固
- 性能优化

**快速部署**：
```bash
sudo ./deploy-production.sh
```

---

### 我想快速测试/演示

👉 [Vercel 部署指南](./Vercel部署指南.md)

**适合**：
- 快速演示
- 个人使用
- 免费托管

**内容**：
- 一键部署到 Vercel
- 配置外部数据库
- 环境变量设置
- 自定义域名

**部署时间**：约 5 分钟

---

### 我使用宝塔面板

👉 [宝塔面板部署指南](./宝塔面板部署指南.md)

**适合**：
- 国内服务器
- 喜欢图形界面
- 已有宝塔环境

**内容**：
- Docker 管理器安装
- 容器配置和启动
- 反向代理设置
- SSL 证书申请
- 日常维护操作

**特点**：图文教程，易于操作

---

### 我想对比不同方案

👉 [一键部署方案](./一键部署方案.md)

**内容**：
- Railway（完全免费）
- Render（免费套餐）
- DigitalOcean（App Platform）
- Vercel（前端托管）
- 各方案优缺点对比

---

### 我想了解本次启动过程

👉 [启动运行总结](./启动运行总结.md)

**内容**：
- 完整启动过程记录
- 遇到的问题和解决方案
- 技术架构总结
- 部署建议
- 安全建议

---

## 🛠️ 快速参考

### 自动化脚本

| 脚本 | 用途 | 使用方法 |
|------|------|----------|
| `start-dev.sh` | 启动开发环境 | `./start-dev.sh` |
| `deploy-production.sh` | 部署生产环境 | `sudo ./deploy-production.sh` |

### 配置文件

| 文件 | 说明 |
|------|------|
| `.env` | 环境变量配置 |
| `docker-compose.yml` | Docker 部署配置 |
| `package.json` | 项目依赖和脚本 |
| `nx.json` | Nx 工作空间配置 |

### 常用命令

```bash
# 开发
npx pnpm dev              # 启动开发服务器
npx pnpm build            # 构建项目

# 数据库
cd apps/server
npx pnpm migration:up     # 运行迁移
npx pnpm migration:create # 创建迁移

# Docker
docker-compose up -d      # 启动服务
docker-compose logs -f    # 查看日志
docker-compose restart    # 重启服务
```

## 📊 部署方案对比

| 方案 | 难度 | 成本 | 性能 | 适用场景 |
|------|------|------|------|----------|
| Docker Compose | ⭐ | 低 | 高 | 小型团队、生产环境 |
| 手动部署 | ⭐⭐⭐ | 低 | 最高 | 大型部署、自定义需求 |
| Vercel | ⭐ | 免费 | 中 | 个人、测试、演示 |
| Railway | ⭐ | 免费 | 中 | 快速测试、小项目 |
| 宝塔面板 | ⭐⭐ | 低 | 高 | 国内服务器、可视化管理 |
| Kubernetes | ⭐⭐⭐⭐ | 高 | 最高 | 大规模、高可用 |

## 🔍 按功能查找

### 安装和配置
- [环境要求](./本地开发环境启动指南.md#环境要求)
- [依赖安装](./本地开发环境启动指南.md#安装依赖)
- [环境变量配置](./生产环境部署指南.md#配置-docker-composeyml)
- [数据库迁移](./本地开发环境启动指南.md#数据库操作)

### 部署方式
- [Docker Compose 部署](./生产环境部署指南.md#方案一docker-compose-部署推荐)
- [手动部署](./生产环境部署指南.md#方案三手动部署)
- [Vercel 部署](./Vercel部署指南.md)
- [宝塔面板部署](./宝塔面板部署指南.md)

### 安全和优化
- [安全加固](./生产环境部署指南.md#安全加固)
- [性能优化](./生产环境部署指南.md#性能优化)
- [SSL 证书配置](./生产环境部署指南.md#配置-ssl-证书lets-encrypt)
- [防火墙配置](./生产环境部署指南.md#配置防火墙)

### 运维管理
- [数据备份](./生产环境部署指南.md#数据备份和恢复)
- [监控维护](./生产环境部署指南.md#监控和维护)
- [故障排查](./生产环境部署指南.md#故障排查)
- [更新应用](./生产环境部署指南.md#更新应用)

### 高级配置
- [S3 对象存储](./生产环境部署指南.md#方案二使用-s3-对象存储)
- [Nginx 反向代理](./生产环境部署指南.md#配置反向代理nginx)
- [邮件服务配置](./本地开发环境启动指南.md#环境变量配置)
- [Redis 优化](./生产环境部署指南.md#2-redis-优化)

## 🆘 问题排查

### 常见问题
- [NX Daemon 连接失败](./本地开发环境启动指南.md#问题-1-nx-daemon-连接失败)
- [pnpm 命令未找到](./本地开发环境启动指南.md#问题-2-pnpm-命令未找到)
- [数据库连接失败](./本地开发环境启动指南.md#问题-3-数据库连接失败)
- [Redis 连接失败](./本地开发环境启动指南.md#问题-4-redis-连接失败)

### 故障排查
- [应用无法启动](./生产环境部署指南.md#应用无法启动)
- [数据库连接失败](./生产环境部署指南.md#数据库连接失败)
- [文件上传失败](./生产环境部署指南.md#文件上传失败)

## 📚 技术文档

### 架构说明
- [技术栈说明](../.kiro/steering/tech.md)
- [项目结构](../.kiro/steering/structure.md)
- [产品概述](../.kiro/steering/product.md)

### 功能文档
- [API 密钥管理](./API密钥使用完整指南.md)
- [SSO 单点登录](./SSO_快速开始.md)
- [评论系统](./评论管理功能说明.md)
- [Confluence 导入](./Confluence在线导入功能说明.md)
- [飞书导入](./飞书导入功能完整总结.md)

## 🌐 在线资源

- **GitHub 仓库**: https://github.com/onlinedear/wiki
- **官方网站**: https://notedoc.cn
- **在线文档**: https://notedoc.cn/docs
- **问题反馈**: https://github.com/onlinedear/wiki/issues
- **讨论社区**: https://github.com/onlinedear/wiki/discussions

## 📝 文档更新

| 日期 | 文档 | 说明 |
|------|------|------|
| 2024-11-27 | 本地开发环境启动指南 | 新建，详细的开发环境配置 |
| 2024-11-27 | 生产环境部署指南 | 新建，完整的生产部署方案 |
| 2024-11-27 | 启动运行总结 | 新建，本次启动过程记录 |
| 2024-11-27 | 部署文档索引 | 新建，文档导航和快速参考 |

## 💡 使用建议

### 第一次使用
1. 先阅读 [本地开发环境启动指南](./本地开发环境启动指南.md)
2. 使用 `./start-dev.sh` 快速启动
3. 熟悉功能后再考虑生产部署

### 准备生产部署
1. 阅读 [生产环境部署指南](./生产环境部署指南.md)
2. 选择合适的部署方案
3. 配置安全和备份
4. 使用 `./deploy-production.sh` 部署

### 遇到问题
1. 查看对应文档的"常见问题"章节
2. 检查 [启动运行总结](./启动运行总结.md) 中的问题排查
3. 在 GitHub Issues 搜索类似问题
4. 提交新的 Issue 寻求帮助

## 🎓 学习路径

### 初学者
1. [产品概述](../.kiro/steering/product.md) - 了解 NoteDoc
2. [本地开发环境启动指南](./本地开发环境启动指南.md) - 搭建环境
3. [项目结构](../.kiro/steering/structure.md) - 理解代码结构

### 开发者
1. [技术栈说明](../.kiro/steering/tech.md) - 技术选型
2. [本地开发环境启动指南](./本地开发环境启动指南.md) - 开发环境
3. 功能文档 - 了解各模块实现

### 运维人员
1. [生产环境部署指南](./生产环境部署指南.md) - 部署方案
2. [安全加固](./生产环境部署指南.md#安全加固) - 安全配置
3. [监控和维护](./生产环境部署指南.md#监控和维护) - 日常运维

## 📞 获取帮助

如果文档无法解决你的问题：

1. **GitHub Issues**: 提交问题报告
2. **讨论区**: 参与社区讨论
3. **官方文档**: 查看最新文档

---

**快速开始**：
- 开发环境：`./start-dev.sh`
- 生产部署：`sudo ./deploy-production.sh`
- 查看文档：[DEPLOYMENT_GUIDE.md](../DEPLOYMENT_GUIDE.md)
