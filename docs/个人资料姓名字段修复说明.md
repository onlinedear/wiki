# 个人资料姓名字段修复说明

## 问题描述

用户反馈：在个人资料页面 (`http://localhost:5173/settings/account/profile`)，"站点名称"字段应该显示为用户的姓名，而不是"站点名称"。

## 根本原因

在中文翻译文件 `apps/client/public/locales/zh-CN/translation.json` 中，存在两个重复的 `"Name"` 键：

1. 第111行：`"Name": "名称"` - 用于个人资料
2. 第543行：`"Name": "站点名称"` - 用于工作台设置

由于JSON中重复的键会导致后面的值覆盖前面的值，所以 `"Name"` 最终被翻译成了"站点名称"，导致个人资料页面也显示"站点名称"。

## 解决方案

### 1. 区分两个不同的字段

- **个人资料页面**：使用 `"Your name"` 翻译键 → "您的姓名"
- **工作台设置页面**：使用 `"Workspace Name"` 翻译键 → "工作空间名称"

### 2. 修改的文件

#### 前端组件

**个人资料表单** (`apps/client/src/features/user/components/account-name-form.tsx`)
```typescript
// 修改前
label={t("Name")}

// 修改后
label={t("Your name")}
```

**工作台名称表单** (`apps/client/src/features/workspace/components/settings/components/workspace-name-form.tsx`)
```typescript
// 修改前
label={t("Name")}

// 修改后
label={t("Workspace Name")}
```

#### 翻译文件

**中文翻译** (`apps/client/public/locales/zh-CN/translation.json`)
- 移除了重复的 `"Name"` 键
- 使用已存在的翻译：
  - `"Your name": "您的姓名"`
  - `"Workspace Name": "工作空间名称"`

## 修改效果

### 个人资料页面
- **URL**: `http://localhost:5173/settings/account/profile`
- **字段标签**: "您的姓名" ✓
- **占位符**: "您的姓名"

### 工作台设置页面
- **URL**: `http://localhost:5173/settings/workspace/general`
- **字段标签**: "工作空间名称" ✓
- **占位符**: "e.g ACME"

## 多语言支持

所有语言文件都已经包含了正确的翻译：

| 语言 | Your name | Workspace Name |
|------|-----------|----------------|
| 简体中文 | 您的姓名 | 工作空间名称 |
| English | Your name | Workspace Name |
| 日本語 | あなたの名前 | ワークスペース名 |
| 한국어 | 귀하의 이름 | Workspce 이름 |
| Français | Votre nom | Nom de l'espace de travail |
| Deutsch | Ihr Name | Arbeitsbereichsname |
| Español | Tu nombre | Nombre del espacio de trabajo |
| Italiano | Il tuo nome | Nome dell'area di lavoro |
| Português | Seu nome | Nome do Workspace |
| Русский | Ваше имя | Имя рабочей области |
| Nederlands | Uw naam | Naam werkruimte |
| Українська | Ваше ім'я | Ім'я робочої області |

## 验证方法

运行验证脚本：
```bash
bash scripts/verify-name-field-fix.sh
```

## 测试步骤

### 1. 测试个人资料页面
1. 访问 `http://localhost:5173/settings/account/profile`
2. 确认字段标签显示为"您的姓名"（中文界面）
3. 输入姓名并保存
4. 验证保存成功

### 2. 测试工作台设置页面
1. 访问 `http://localhost:5173/settings/workspace/general`
2. 确认字段标签显示为"工作空间名称"（中文界面）
3. 修改工作台名称并保存（需要管理员权限）
4. 验证保存成功

### 3. 测试其他语言
1. 切换到其他语言（如英文、日文等）
2. 验证两个页面的字段标签都显示正确的翻译

## 相关文件

- 个人资料表单: `apps/client/src/features/user/components/account-name-form.tsx`
- 工作台名称表单: `apps/client/src/features/workspace/components/settings/components/workspace-name-form.tsx`
- 中文翻译: `apps/client/public/locales/zh-CN/translation.json`
- 验证脚本: `scripts/verify-name-field-fix.sh`

## 注意事项

1. **翻译键的选择**: 使用了已存在的翻译键，避免创建新的重复键
2. **向后兼容**: 不影响其他使用这些翻译键的地方
3. **一致性**: 确保所有语言都有对应的翻译
4. **清晰性**: 字段标签更加明确，用户不会混淆个人姓名和工作台名称

## 其他发现

在修复过程中发现：
- 所有语言文件都已经包含了 `"Your name"` 和 `"Workspace Name"` 的翻译
- 只需要修改代码使用正确的翻译键即可
- 移除了中文翻译文件中重复的 `"Name"` 键，避免未来的混淆
