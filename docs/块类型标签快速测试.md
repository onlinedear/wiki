# 块类型标签功能快速测试指南

## 测试目标

验证块类型标签显示功能的三个核心改进：
1. ✅ 图标正确显示
2. ✅ 编号列表中拖拽手柄位置正确
3. ✅ 编号与标题对齐正确

## 快速测试步骤

### 1. 基础图标显示测试（2分钟）

1. 启动开发服务器：`pnpm dev`
2. 打开编辑器，创建一个新页面
3. 输入 `/` 调出命令菜单
4. 依次插入以下块类型：
   - Heading 1
   - Heading 2
   - Heading 3
   - Bullet list
   - Numbered list
   - Code block
   - Callout
   - Table

5. 鼠标悬停在每个块上，检查：
   - [ ] 是否显示块类型标签
   - [ ] 标签中是否包含图标
   - [ ] 图标是否与块类型匹配
   - [ ] 拖拽手柄是否可见

**预期结果：** 每个块都应该显示对应的图标和标签，例如：
- H1 显示 H1 图标 + "H1" 文本
- Callout 显示信息图标 + "Callout" 文本

### 2. 编号列表对齐测试（3分钟）

1. 在编辑器中输入 `/` 选择 "Numbered list"
2. 在列表项中输入 `/` 选择 "Heading 1"，输入文本 "我是一级标题"
3. 按 Enter，输入 `/` 选择 "Heading 2"，输入文本 "我是二级标题"
4. 按 Enter，输入 `/` 选择 "Heading 2"，输入文本 "我是二级标题"
5. 按 Enter，输入 `/` 选择 "Heading 3"，输入文本 "我是三级标题"

检查以下内容：
- [ ] 编号是否正确显示（1., 1.1, 1.2, 1.2.1）
- [ ] 编号与标题文本是否在同一水平线上（基线对齐）
- [ ] 长编号（如 1.2.1）是否与标题文本重叠
- [ ] 编号与标题之间是否有适当的间距

**预期结果：**
```
1. 我是一级标题
1.1 我是二级标题
1.2 我是二级标题
1.2.1 我是三级标题
```
编号应该与标题文本对齐，不重叠。

### 3. 拖拽手柄位置测试（2分钟）

继续使用上面创建的编号列表：

1. 鼠标悬停在 "1. 我是一级标题" 上
2. 检查拖拽手柄的位置：
   - [ ] 拖拽手柄是否在编号左侧
   - [ ] 拖拽手柄是否与编号重叠
   - [ ] 块类型标签（H1 图标 + "H1"）是否清晰可见

3. 鼠标悬停在 "1.2.1 我是三级标题" 上
4. 检查拖拽手柄的位置：
   - [ ] 拖拽手柄是否在长编号（1.2.1）左侧
   - [ ] 拖拽手柄是否与编号重叠
   - [ ] 块类型标签是否清晰可见

5. 尝试拖拽标题：
   - [ ] 点击拖拽手柄，是否可以拖动整个列表项
   - [ ] 拖动时光标是否变为 grabbing 状态

**预期结果：** 拖拽手柄应该始终在编号左侧，不与编号重叠，可以正常拖拽。

### 4. 主题切换测试（1分钟）

1. 点击右上角的主题切换按钮，切换到暗色主题
2. 检查：
   - [ ] 块类型标签背景色是否适配暗色主题
   - [ ] 图标颜色是否清晰可见
   - [ ] 拖拽手柄图标是否清晰可见

3. 切换回亮色主题
4. 检查样式是否正常

**预期结果：** 在亮色和暗色主题下，所有元素都应该清晰可见。

## 常见问题排查

### 问题1：图标不显示
- 检查浏览器控制台是否有错误
- 确认 `@tabler/icons-react` 已安装
- 检查 `react-dom/server` 是否正确导入

### 问题2：拖拽手柄与编号重叠
- 检查 `ordered-list.css` 中的 `padding-left` 值
- 检查 `drag-handle.css` 中的 `z-index` 设置
- 清除浏览器缓存，重新加载页面

### 问题3：编号与标题重叠
- 检查 `ordered-list.css` 中各级标题的 `padding-left` 值
- 检查 `::before` 伪元素的 `min-width` 设置
- 尝试调整 `padding-left` 值以适应更长的编号

### 问题4：编号与标题不对齐
- 检查 `::before` 伪元素是否设置了 `display: inline-flex`
- 检查 `align-items: baseline` 是否生效
- 检查 `line-height` 是否与标题的 `line-height` 匹配

## 测试通过标准

所有测试项都应该通过（打勾），特别是：
- ✅ 所有块类型都显示正确的图标
- ✅ 编号列表中拖拽手柄不与编号重叠
- ✅ 编号与标题文本正确对齐，不重叠
- ✅ 拖拽功能正常工作
- ✅ 亮色/暗色主题都正常显示

## 预计测试时间

总计：约 8-10 分钟

如果发现问题，请记录：
1. 问题描述
2. 复现步骤
3. 浏览器和版本
4. 截图（如果可能）
