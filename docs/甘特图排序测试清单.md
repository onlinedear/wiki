# 甘特图排序功能测试清单

## 测试环境准备

### 前置条件
- [ ] 已启动开发服务器
- [ ] 已登录系统
- [ ] 已创建测试文档
- [ ] 已插入甘特图

### 测试数据准备
创建包含以下字段的甘特图：
- [ ] 任务名（内置字段）
- [ ] 开始日期（内置字段）
- [ ] 截止日期（内置字段）
- [ ] 状态（单选字段，选项：待办、进行中、已完成）
- [ ] 优先级（单选字段，选项：低、中、高）
- [ ] 标签（多选字段，选项：前端、后端、设计、测试）
- [ ] 负责人（人员字段）
- [ ] 预算（数字字段）
- [ ] 是否紧急（复选框字段）

添加至少 10 个测试任务，包含：
- [ ] 中文任务名
- [ ] 英文任务名
- [ ] 混合任务名
- [ ] 不同日期
- [ ] 不同状态
- [ ] 空值字段

## 基础功能测试

### 1. 打开排序面板
- [ ] 点击工具栏"排序"按钮
- [ ] 排序面板正常打开
- [ ] 显示"暂无排序条件"提示
- [ ] 显示"选择条件"按钮
- [ ] 显示"自动排序"开关（默认开启）

### 2. 添加排序条件
- [ ] 点击"选择条件"按钮
- [ ] 自动添加一个默认条件（任务名，A → Z）
- [ ] 字段下拉框显示所有可用字段
- [ ] 排序方向按钮正常显示

### 3. 删除排序条件
- [ ] 点击条件右侧的删除按钮
- [ ] 条件被成功删除
- [ ] 任务列表恢复原始顺序

### 4. 清空所有条件
- [ ] 添加多个排序条件
- [ ] 点击"清空全部"按钮
- [ ] 所有条件被清除
- [ ] 任务列表恢复原始顺序

### 5. 自动排序开关
- [ ] 添加排序条件
- [ ] 关闭"自动排序"开关
- [ ] 任务列表恢复原始顺序
- [ ] 排序条件仍然保留
- [ ] 重新开启开关
- [ ] 排序立即生效

## 字段类型排序测试

### 文本字段排序

#### 英文排序
- [ ] 添加任务名排序条件（A → Z）
- [ ] 英文任务按字母顺序排列
- [ ] 切换为 Z → A
- [ ] 英文任务按字母倒序排列

#### 中文排序
- [ ] 添加任务名排序条件（A → Z）
- [ ] 中文任务按拼音首字母排序
- [ ] 验证：阿 < 百 < 测 < 的
- [ ] 切换为 Z → A
- [ ] 中文任务按拼音倒序排列

#### 混合排序
- [ ] 中英文混合任务正确排序
- [ ] 数字开头的任务排序正确
- [ ] 特殊字符任务排序正确

### 数字字段排序
- [ ] 添加预算字段排序（0 → 9）
- [ ] 数字从小到大排列
- [ ] 验证：1 < 10 < 100 < 1000
- [ ] 切换为 9 → 0
- [ ] 数字从大到小排列
- [ ] 小数正确排序
- [ ] 负数正确排序

### 日期字段排序
- [ ] 添加开始日期排序（0 → 9）
- [ ] 日期从早到晚排列
- [ ] 切换为 9 → 0
- [ ] 日期从晚到早排列
- [ ] 跨年日期正确排序
- [ ] 跨月日期正确排序

### 单选字段排序
- [ ] 添加状态字段排序（选项顺序）
- [ ] 按选项定义顺序排列（待办 < 进行中 < 已完成）
- [ ] 切换为选项倒序
- [ ] 按选项倒序排列（已完成 < 进行中 < 待办）

### 多选字段排序
- [ ] 添加标签字段排序（选项顺序）
- [ ] 按第一个选项的顺序排列
- [ ] 切换为选项倒序
- [ ] 按第一个选项的倒序排列
- [ ] 空数组正确处理

### 人员字段排序
- [ ] 添加负责人字段排序（A → Z）
- [ ] 按人员姓名排序
- [ ] 切换为 Z → A
- [ ] 按人员姓名倒序排列

### 复选框字段排序
- [ ] 添加是否紧急字段排序（顺序）
- [ ] 已选中排在前面
- [ ] 切换为倒序
- [ ] 未选中排在前面

### 空值处理
- [ ] 添加包含空值的字段排序
- [ ] 空值排在最后（正序）
- [ ] 空值排在最后（倒序）
- [ ] 空字符串视为空值
- [ ] null/undefined 视为空值

## 多条件排序测试

### 两个条件
- [ ] 添加第一个条件：状态（选项顺序）
- [ ] 添加第二个条件：开始日期（0 → 9）
- [ ] 先按状态分组
- [ ] 同一状态内按日期排序
- [ ] 两个条件都生效

### 三个条件
- [ ] 添加第一个条件：优先级（选项倒序）
- [ ] 添加第二个条件：状态（选项顺序）
- [ ] 添加第三个条件：开始日期（0 → 9）
- [ ] 按优先级、状态、日期依次排序
- [ ] 三个条件都生效

### 条件优先级调整
- [ ] 添加多个排序条件
- [ ] 拖动第二个条件到第一位
- [ ] 排序结果立即更新
- [ ] 新的优先级生效
- [ ] 拖动到其他位置
- [ ] 排序结果正确更新

## 交互功能测试

### 字段选择
- [ ] 点击字段下拉框
- [ ] 显示所有可用字段
- [ ] 字段带有对应图标
- [ ] 选择不同字段
- [ ] 排序方向按钮文本自动更新
- [ ] 排序结果立即更新

### 排序方向切换
- [ ] 点击正序按钮
- [ ] 按钮高亮显示
- [ ] 排序结果正确
- [ ] 点击倒序按钮
- [ ] 按钮高亮切换
- [ ] 排序结果立即反转

### 拖拽排序
- [ ] 鼠标悬停在拖拽手柄上
- [ ] 光标变为抓手
- [ ] 拖动条件
- [ ] 显示拖动效果
- [ ] 释放鼠标
- [ ] 条件位置更新
- [ ] 排序结果更新

### 条件删除
- [ ] 点击删除按钮
- [ ] 条件立即移除
- [ ] 排序结果更新
- [ ] 删除最后一个条件
- [ ] 显示"暂无排序条件"提示

## 与其他功能集成测试

### 与筛选配合
- [ ] 添加筛选条件（如：状态=进行中）
- [ ] 添加排序条件（如：开始日期）
- [ ] 先应用筛选
- [ ] 再对筛选结果排序
- [ ] 结果正确

### 与字段配置配合
- [ ] 隐藏某个字段
- [ ] 该字段仍可用于排序
- [ ] 排序结果正确
- [ ] 删除某个字段
- [ ] 使用该字段的排序条件自动失效

### 与任务编辑配合
- [ ] 设置排序条件
- [ ] 编辑任务的排序字段值
- [ ] 保存后排序自动更新
- [ ] 新增任务
- [ ] 新任务自动插入正确位置
- [ ] 删除任务
- [ ] 排序结果正确更新

### 与视图切换配合
- [ ] 设置排序条件
- [ ] 切换视图模式（周/月/季/年）
- [ ] 排序条件保持
- [ ] 排序结果正确

## 性能测试

### 大数据量
- [ ] 创建 100 个任务
- [ ] 添加排序条件
- [ ] 排序响应时间 < 1秒
- [ ] 创建 500 个任务
- [ ] 排序响应时间 < 3秒
- [ ] 多条件排序性能可接受

### 频繁操作
- [ ] 快速切换排序方向
- [ ] 界面响应流畅
- [ ] 快速添加/删除条件
- [ ] 无卡顿现象
- [ ] 快速拖拽调整顺序
- [ ] 性能良好

## 边界情况测试

### 空数据
- [ ] 没有任务时添加排序
- [ ] 不报错
- [ ] 添加任务后排序生效

### 单个任务
- [ ] 只有一个任务时排序
- [ ] 不报错
- [ ] 显示正常

### 所有值相同
- [ ] 所有任务的排序字段值相同
- [ ] 排序不报错
- [ ] 保持原有顺序

### 特殊字符
- [ ] 任务名包含特殊字符（@#$%）
- [ ] 排序正确
- [ ] 任务名包含 emoji
- [ ] 排序正确

### 极长文本
- [ ] 任务名超长（1000字符）
- [ ] 排序正常
- [ ] 界面不错乱

## UI/UX 测试

### 视觉反馈
- [ ] 有排序条件时按钮显示为蓝色
- [ ] 按钮显示条件数量
- [ ] 选中的排序方向按钮高亮
- [ ] 拖拽时有视觉反馈

### 提示信息
- [ ] 无条件时显示提示文本
- [ ] 排序说明清晰易懂
- [ ] 字段类型说明准确

### 响应式
- [ ] 小屏幕下布局正常
- [ ] 模态框大小合适
- [ ] 按钮大小合适
- [ ] 文字不重叠

### 可访问性
- [ ] 按钮有合适的 title 属性
- [ ] 键盘可以操作（Tab 键）
- [ ] 焦点状态清晰

## 兼容性测试

### 浏览器兼容
- [ ] Chrome 最新版
- [ ] Firefox 最新版
- [ ] Safari 最新版
- [ ] Edge 最新版

### 操作系统
- [ ] macOS
- [ ] Windows
- [ ] Linux

## 错误处理测试

### 异常情况
- [ ] 字段被删除后排序条件的处理
- [ ] 字段类型改变后的处理
- [ ] 数据格式错误的处理

### 恢复能力
- [ ] 刷新页面后状态重置
- [ ] 重新打开文档后状态重置
- [ ] 不影响其他用户

## 文档测试

### 文档完整性
- [ ] 功能说明文档完整
- [ ] 快速开始文档清晰
- [ ] 示例准确
- [ ] 截图清晰

### 文档准确性
- [ ] 功能描述与实际一致
- [ ] 操作步骤可复现
- [ ] 注意事项准确

## 测试结果

### 通过的测试
- 总数：___
- 列表：

### 失败的测试
- 总数：___
- 列表：

### 需要修复的问题
1. 
2. 
3. 

### 建议改进
1. 
2. 
3. 

## 测试签名

- 测试人员：___________
- 测试日期：___________
- 测试版本：___________
- 测试结论：[ ] 通过 [ ] 不通过
